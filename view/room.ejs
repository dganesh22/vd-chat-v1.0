<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<style>
		a.nav-link {
			cursor: pointer !important;
		}
.video-grid {
    position: relative;
    display: flex;
    justify-content: flex-start;
    height: 100%;
    width: 100%;
    align-items: center;
    flex-wrap: wrap;
    overflow-y: auto;
    margin-top: 1rem;
}

h1 {
    position: absolute;
   	top:1rem;
   	left:1rem;
    color:#fff;
    text-align: center;
    font-size: 1.2rem;
}

video {
    display: block;
    flex: 1;
    object-fit: cover;
    border: 2px solid slategray;
    max-width: 15vw;
    border-radius: 8px;
}
	</style>
	<script>
        const myname = "<%= Myname %>"
        const roomId = "<%= roomid %>"
    </script>
</head>
<body>


	<!-- modal -->
	  <div class="modal fade" id="getCodeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Invite People</h4>
                    <button class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p id="roomid"> <%= roomid %> </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="copy()">Copy</button>
                </div>
            </div>
        </div>
    </div>

<!-- video grids -->
	<div class="container">
		<div class="row">
			<div class="col-md-3">
				<div id="video-grids"></div>
			</div>
			<div class="col-md-8 bg-secondary">
				
			</div>
		</div>
	</div>

	<!-- chat window -->

<div class="offcanvas offcanvas-end" tabindex="-1" id="chatWindow" aria-labelledby="offcanvasTopLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasTopLabel">Chat Here</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
      <div class="card" id="chat">
      	<div class="card-body" id="main__chat_window" style="overflow-y: auto;height:70vh;">
      		<ul class="list-group" id="messageadd"></ul>
      	</div>
      	<div class="card-footer">
      		<div class="form-group mt-2">
      		     <div class="input-group">
      		     	<input type="search" id="chat_message"  class="form-control" placeholder="Enter Your message" required>
      		     	<button class="btn btn-outline-dark" onclick="sendmessage()">
      		     		<i class="bi bi-send"></i>
      		     	</button>
      		     </div>
      		</div>
      	</div>
      </div>
  </div>
</div>


<!-- navigation controls -->
	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-bottom">
		<div class="container-fluid">
			<ul class="navbar-nav">
				<li class="nav-item">
					<a  class="nav-link d-flex flex-column align-items-center" id="mic" onclick="muteUnmute()">
						<i class="bi bi-mic-mute"></i> <span>Mute</span>
					</a>
				</li>
				<li class="nav-item">
					<a  class="nav-link d-flex flex-column align-items-center" id="video" onclick="VideomuteUnmute()">
						<i class="bi bi-camera-video-off"></i> <span>Stop Video</span>
					</a>
				</li>
			</ul>
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="nav-link d-flex flex-column align-items-center"  data-bs-toggle="modal" data-bs-target="#getCodeModal" >
						<i class="bi bi-person-add"></i> <span>Invite</span>
					</a>
				</li>
				<li class="nav-item">
					<a  class="nav-link d-flex flex-column align-items-center">
						<i class="bi bi-people-fill"></i> <span>Participants</span>
					</a>
				</li>
				<li class="nav-item">
					<a  class="nav-link d-flex flex-column align-items-center" data-bs-toggle="offcanvas" data-bs-target="#chatWindow">
						<i class="bi bi-chat-left-text"></i> <span>Chat</span>
					</a>
				</li>
			</ul>
			<ul class="navbar-nav">
				<li class="nav-item">
					<a href="/" class="nav-link btn btn-danger" id="leave_meeting" onclick="leavemeeting()">
						<span>Leave Meeting</span> <i class="bi bi-box-arrow-right"></i>	
					</a>
				</li>
			</ul>
		</div>
	</nav>

	    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
	      <script src="https://cdnjs.cloudflare.com/ajax/libs/peerjs/1.3.1/peerjs.min.js.map"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js" integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+" crossorigin="anonymous"></script>

  	<script src="/main.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

	
</body>
</html>